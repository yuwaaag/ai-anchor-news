<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        :root { --main-red: #cc0000; --gold: #ffcc00; }
        body, html { margin: 0; padding: 0; width: 1920px; height: 1080px; overflow: hidden; background: #000; font-family: 'Oswald', sans-serif; }

        /* 1. Studio Background Layer */
        .news-set {
            width: 100%; height: 100%;
            background: url('studio.jpg'); /* आपकी अपलोड की हुई फोटो */
            background-size: cover;
            background-position: center;
            position: relative;
        }

        /* 2. AI Anchor Section (Right side) */
        .anchor-box {
            position: absolute; right: 0; bottom: 0;
            width: 950px; height: 1080px; z-index: 10;
        }
        #anchorVideo {
            width: 100%; height: 100%; object-fit: contain;
        }

        /* 3. News Overlay (Lower Third) */
        .news-overlay {
            width: 100%; position: absolute; bottom: 0; z-index: 20;
            background: linear-gradient(to top, rgba(0,0,0,1) 60%, transparent);
            padding: 50px 0; display: flex; flex-direction: column; align-items: center;
        }

        .breaking-tag {
            background: var(--main-red); color: white; padding: 10px 60px;
            font-size: 45px; font-weight: bold; border: 4px solid var(--gold);
            margin-bottom: 15px; box-shadow: 0 0 20px rgba(255,0,0,0.6);
            animation: pulse 1.5s infinite;
        }

        .headline-container {
            width: 92%; background: rgba(255,255,255,0.95); padding: 40px;
            border-radius: 5px; border-left: 30px solid var(--main-red);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        .headline-text {
            font-size: 68px; color: #111; margin: 0; font-weight: bold; text-align: center;
            line-height: 1.2;
        }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<div class="news-set">
    <div class="anchor-box">
        <video id="anchorVideo" muted loop playsinline>
            <source src="anchor_video.mp4" type="video/mp4">
        </video>
    </div>

    <div class="news-overlay">
        <div class="breaking-tag">BREAKING NEWS</div>
        <div class="headline-container">
            <p class="headline-text" id="headline">PTN NEWS: कनेक्ट हो रहा है...</p>
        </div>
    </div>
</div>

<audio id="newsBGM" loop>
    <source src="https://www.soundjay.com/free-music/sounds/action-movie-trailer-01.mp3" type="audio/mpeg">
</audio>

<script>
    const SHEET_ID = '19sVzDeE9ey7da9DQe5LFYdPx7KEdHzVjffmh80LE2wE'; // अपनी ID चेक कर लें
    const CSV_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv&gid=0`;

    let newsData = [];
    let currentIndex = 0;

    async function loadNews() {
        try {
            const response = await fetch(CSV_URL + '&cb=' + Date.now());
            const data = await response.text();
            const rows = data.split(/\r?\n/);
            newsData = rows.map(r => r.replace(/^"|"$/g, '').trim()).filter(r => r !== "" && r.toLowerCase() !== "news");
            if (newsData.length > 0 && !window.isPlaying) { window.isPlaying = true; showNext(); }
        } catch (e) { console.error("Sheet Error"); }
    }

    function showNext() {
        if (currentIndex >= newsData.length) currentIndex = 0;
        const text = newsData[currentIndex];
        document.getElementById('headline').innerText = text;
        speak(text);
        currentIndex++;
    }

    function speak(txt) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance("ब्रेकिंग न्यूज़... " + txt);
        msg.lang = 'hi-IN';
        msg.rate = 1.0; 
        
        const video = document.getElementById('anchorVideo');
        
        msg.onstart = () => { video.play(); }; 
        msg.onend = () => { 
            video.pause(); 
            setTimeout(showNext, 2500); // खबर के बीच 2.5 सेकंड का गैप
        };

        window.speechSynthesis.speak(msg);
    }

    // OBS में 'Interact' करके कहीं भी क्लिक करें शुरू करने के लिए
    window.onclick = () => {
        document.getElementById('newsBGM').volume = 0.12;
        document.getElementById('newsBGM').play();
        loadNews();
    };

    setInterval(loadNews, 60000);
</script>

</body>
</html>
